# Quick Deployment Guide - Make Your App Fully Functional

## ğŸš€ Current Status
- âœ… Frontend: Live on Vercel (https://tsunade-frontend.vercel.app)
- âŒ Backend: Not deployed (currently running locally)
- âŒ Database: Not configured for production

## ğŸ¯ Goal
Deploy the backend to make your healthcare platform fully functional with complete data flow.

## ğŸ“‹ Option 1: Deploy to Render.com (Recommended - Free Tier Available)

### Step 1: Push to GitHub
```bash
# If not already done, initialize git and push to GitHub
git add .
git commit -m "Prepare for production deployment"
git push origin main
```

### Step 2: Deploy on Render
1. Go to [render.com](https://render.com) and sign up/login
2. Click "New" â†’ "Web Service"
3. Connect your GitHub repository
4. Use these settings:
   - **Name**: `tsunade-backend`
   - **Root Directory**: `backend`
   - **Environment**: `Python 3`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `uvicorn main:app --host 0.0.0.0 --port $PORT`

### Step 3: Add Database
1. In Render dashboard, click "New" â†’ "PostgreSQL"
2. Name: `tsunade-db`
3. Copy the **Internal Database URL**

### Step 4: Set Environment Variables
In your web service settings, add:
```
DATABASE_URL=<your-postgres-url-from-step-3>
SECRET_KEY=your-super-secret-key-here-make-it-long-and-random
CORS_ORIGINS=https://tsunade-frontend.vercel.app,http://localhost:3000
ENVIRONMENT=production
DEBUG=False
```

### Step 5: Deploy
- Click "Create Web Service"
- Wait for deployment (5-10 minutes)
- Your backend will be live at: `https://tsunade-backend.onrender.com`

## ğŸ“‹ Option 2: Deploy to Railway (Alternative)

### Step 1: Deploy via GitHub
1. Go to [railway.app](https://railway.app)
2. Click "Deploy from GitHub repo"
3. Select your repository
4. Choose "Deploy from repo"

### Step 2: Configure Service
- **Root Directory**: `/backend`
- **Start Command**: `uvicorn main:app --host 0.0.0.0 --port $PORT`

### Step 3: Add Database
- Click "+ New" â†’ "Database" â†’ "PostgreSQL"
- Copy the `DATABASE_URL` from variables

### Step 4: Set Environment Variables
```
DATABASE_URL=<auto-generated>
SECRET_KEY=your-secret-key
CORS_ORIGINS=https://tsunade-frontend.vercel.app
ENVIRONMENT=production
```

## ğŸ”— Connect Frontend to Backend

### Step 1: Update Frontend Environment
1. Go to [Vercel Dashboard](https://vercel.com/dashboard)
2. Select your project â†’ Settings â†’ Environment Variables
3. Add/Update:
   ```
   REACT_APP_API_URL=https://your-backend-url.onrender.com/api/v1
   REACT_APP_ENVIRONMENT=production
   ```

### Step 2: Redeploy Frontend
```bash
# Trigger a new deployment
npx vercel --prod
```

## âœ… Verify Full-Stack Functionality

### Test These Features:
1. **Visit**: https://tsunade-frontend.vercel.app
2. **Register/Login**: Create a new account
3. **Upload Document**: Test OCR functionality
4. **View Insights**: Check medical insights dashboard
5. **Profile**: Update user profile

### API Health Check:
- Visit: `https://your-backend-url/health`
- Should return: `{"status": "healthy"}`

## ğŸ› Troubleshooting

### Common Issues:

**1. CORS Errors**
- Ensure `CORS_ORIGINS` includes your Vercel URL
- Check browser console for specific errors

**2. Database Connection**
- Verify `DATABASE_URL` format is correct
- Check database service is running

**3. Build Failures**
- Check deployment logs in platform dashboard
- Ensure all dependencies are in `requirements.txt`

**4. Frontend Can't Connect**
- Verify `REACT_APP_API_URL` is set correctly
- Ensure backend is responding to health checks

### Debug Commands:
```bash
# Test backend health
curl https://your-backend-url/health

# Test API endpoint
curl https://your-backend-url/api/v1/auth/health
```

## ğŸ‰ Success!

Once deployed, your healthcare platform will be fully functional with:
- âœ… Frontend on Vercel
- âœ… Backend on Render/Railway
- âœ… PostgreSQL Database
- âœ… Complete API connectivity
- âœ… OCR document processing
- âœ… Medical insights generation

## ğŸ“ Need Help?

If you encounter issues:
1. Check deployment logs in your platform dashboard
2. Verify all environment variables are set
3. Test API endpoints individually
4. Check browser console for frontend errors

---

**Estimated Time**: 15-30 minutes  
**Cost**: Free tier available on both platforms  
**Result**: Fully functional healthcare platform