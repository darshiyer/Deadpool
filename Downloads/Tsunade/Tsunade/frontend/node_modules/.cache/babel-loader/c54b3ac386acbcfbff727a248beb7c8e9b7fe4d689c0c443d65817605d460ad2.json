{"ast":null,"code":"import React,{useCallback,useState}from'react';import{motion,AnimatePresence}from'framer-motion';import{useDropzone}from'react-dropzone';import{Upload,Camera,FileText,X,Image as ImageIcon}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadCard=_ref=>{let{onFileUpload,isProcessing}=_ref;const[preview,setPreview]=useState(null);const[fileName,setFileName]=useState('');const onDrop=useCallback(acceptedFiles=>{const file=acceptedFiles[0];if(file){setFileName(file.name);// Create preview\nconst reader=new FileReader();reader.onload=()=>{setPreview(reader.result);};reader.readAsDataURL(file);// Call parent handler\nonFileUpload(file);}},[onFileUpload]);const{getRootProps,getInputProps,isDragActive}=useDropzone({onDrop,accept:{'image/*':['.jpeg','.jpg','.png','.gif','.bmp'],'application/pdf':['.pdf']},multiple:false});const clearFile=()=>{setPreview(null);setFileName('');};const captureImage=()=>{var _document$querySelect;// This would integrate with device camera\n// For now, we'll just trigger file input\n(_document$querySelect=document.querySelector('input[type=\"file\"]'))===null||_document$querySelect===void 0?void 0:_document$querySelect.click();};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"glass-card rounded-2xl p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2\",children:\"Upload Prescription\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Drag & drop your prescription image or click to browse\"})]}),/*#__PURE__*/_jsxs(\"div\",{...getRootProps(),className:`upload-zone ${isDragActive?'upload-zone-active':''} ${isProcessing?'pointer-events-none opacity-50':''}`,children:[/*#__PURE__*/_jsx(\"input\",{...getInputProps()}),/*#__PURE__*/_jsx(AnimatePresence,{mode:\"wait\",children:!preview?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-r from-primary-100 to-secondary-100 dark:from-primary-900/20 dark:to-secondary-900/20 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Upload,{className:\"w-8 h-8 text-primary-600 dark:text-primary-400\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-2\",children:isDragActive?'Drop your file here':'Choose a file or drag it here'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Supports JPG, PNG, GIF, BMP, and PDF files\"})]})]},\"upload-prompt\"):/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.9},className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[fileName.toLowerCase().endsWith('.pdf')?/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-32 bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/20 dark:to-red-800/20 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(FileText,{className:\"w-12 h-12 text-red-500\"})}):/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\",className:\"w-full h-32 object-cover rounded-lg\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();clearFile();},className:\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-800 dark:text-gray-200\",children:fileName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-600 dark:text-gray-400\",children:\"Click to change file\"})]})]},\"preview\")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3 mt-6\",children:[/*#__PURE__*/_jsxs(motion.button,{onClick:captureImage,disabled:isProcessing,className:\"flex-1 btn-secondary flex items-center justify-center space-x-2\",whileHover:{scale:1.02},whileTap:{scale:0.98},children:[/*#__PURE__*/_jsx(Camera,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Capture\"})]}),/*#__PURE__*/_jsxs(motion.button,{onClick:()=>{var _document$querySelect2;return(_document$querySelect2=document.querySelector('input[type=\"file\"]'))===null||_document$querySelect2===void 0?void 0:_document$querySelect2.click();},disabled:isProcessing,className:\"flex-1 btn-primary flex items-center justify-center space-x-2\",whileHover:{scale:1.02},whileTap:{scale:0.98},children:[/*#__PURE__*/_jsx(ImageIcon,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Browse\"})]})]}),isProcessing&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"typing-dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"typing-dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"typing-dot\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700 dark:text-blue-300\",children:\"Processing your prescription...\"})]})})]});};export default UploadCard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}